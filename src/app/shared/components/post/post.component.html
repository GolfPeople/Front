<div class="post">
  <div class="post-header" lines="none">
    <div
      class="avatar"
      [ngStyle]="{
        'background-image':
          'url(' +
          (this.userID == this.post.user_id && userPhoto.length > 0
            ? userPhoto
            : post.user.profile.photo) +
          ')'
      }"
    ></div>

    <div class="header-text">
      <h3>{{ post.user.name }}</h3>
      <p>{{ post.ubication }}</p>
    </div>
    <a (click)="onClick()" class="three-dots">
      <img src="../../../../assets/post/points.png" alt="" />
    </a>
  </div>
  <swiper
    [lazy]="true"
    [pagination]="{
      dynamicBullets: true
    }"
    #swiper
  >
    <ng-template *ngFor="let image of post.files" swiperSlide>
      <img class="picture swiper-lazy" data-src="{{ image.url }}" alt="" />
      <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
    </ng-template>
  </swiper>

  <div class="bottom">
    <div class="reactions">
      <div class="reactions-items">
        <a *ngIf="liked === false" (click)="like()">
          <ion-icon name="heart-outline"></ion-icon>
        </a>
        <a *ngIf="liked === true" class="liked" (click)="like()">
          <ion-icon name="heart" class="liked"></ion-icon>
        </a>
        <a (click)="presentModal()">
          <ion-icon name="chatbubble-outline" slot="start"></ion-icon>
        </a>

        <a (click)="sharePost()">
          <ion-icon name="paper-plane-outline" slot="start"></ion-icon>
        </a>
      </div>
    </div>

    <div class="description">
      <a (click)="showLikes()" class="likes" *ngIf="count > 0"
        >{{ count }} {{ count > 1 ? "likes" : "like" }}</a
      >
      <p>
        <strong>{{ post.user.name }}</strong> {{ post.description }}
        <a
          *ngFor="let hashtag of post.hashtags | jsonToData"
          [routerLink]="['/website/posts/', hashtag]"
          >#{{ hashtag }}</a
        >
      </p>
    </div>
    <p *ngIf="post.comments.length" class="comments" (click)="presentModal()">
      {{ post.comments.length }}
      {{ post.comments.length > 1 ? "comentarios" : "comentario" }}
    </p>
  </div>
</div>
