<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="closeModal()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="ion-text-center">
      <ion-icon name="chatbubble-outline"></ion-icon>
      Comentarios
    </ion-title>
  </ion-toolbar>
  <ion-item>
    <ion-label
      >{{ post.user.name }}
      <p>{{ post.description }}</p>
    </ion-label>
  </ion-item>
</ion-header>
<ion-content>
  <ion-item class="comment" lines="none" *ngFor="let comment of comments">
    <ion-avatar class="ion-margin-end">
      <img [src]="comment.user.profile.photo || 'assets/img/default-avatar.png'" />
    </ion-avatar>
    <ion-label class="normal">
      {{ comment.user.name }}
      <p class="normal">{{ comment.description }}</p>
      <div class="footer-comment">
        <p class="date-text">{{ comment.created_at | date }}</p>
        <a
          (click)="createResponse(comment)"
          *ngIf="comment.responses.length > 0"
          >{{ comment.responses.length }}
          {{ comment.responses.length > 1 ? "respuestas" : "respuesta" }}
        </a>
        <a (click)="createResponse(comment)"> Responder</a>
      </div>
    </ion-label>
  </ion-item>
</ion-content>
<ion-footer>
  <ion-item>
    <ion-label>
      <ion-textarea
        placeholder="Escribe algo"
        [(ngModel)]="commentary"
      ></ion-textarea>
    </ion-label>
    <ion-buttons slot="end">
      <ion-button (click)="comment()">
        <ion-icon color="success" slot="icon-only" name="send-sharp"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-item>
</ion-footer>
